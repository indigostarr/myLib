<%- include("partials/header.ejs") %>
<div class="relative min-h-screen md:flex">
  <%- include("partials/nav.ejs") %>

  <div class="grid grid-cols-4 gap-12 w-full m-10 h-96">
    <input type="hidden" id="bookId" name="bookId" value="<%= book.id %>" />
    <div id="content" class="col-span-4">
      <!-- Hero Image -->
      <div
        id="hero"
        class="
          flex flex-col
          bg-gray-50
          rounded-xl
          p-6
          items-center
          border-gray-200 border-2
        "
      >
        <img
          id="search-image"
          class="object-scale-down"
          src=" <%= book.thumbnail %>"
          alt="thumbnail"
        />
        <label class="mt-3 text-2xl font-bold"
          ><input
            id="title"
            type="hidden"
            name="title"
            value="<%= book.title %>"
          />
          <%= book.title %></label
        >
        <label class=""
          ><input
            id="authors"
            type="hidden"
            name="authors"
            value="<%= book.authors %>"
          />by <%= book.authors %></label
        >

        <div class="space-x-4 mt-6">
          <button
            id="toRead"
            class="
              px-5
              py-3
              shadow-lg
              rounded-xl
              font-semibold
              text-gray-900
              bg-white
              focus:outline-none
              hover:-translate-y-0.5
              transform
              transition
              w-32
              <%
              if
              (book.status
              ===
              'toRead')
              {
              %>bg-blue-50
              border-blue-400 border-2
              <%
              }%>
            "
          >
            ðŸ“• To Read
          </button>
          <button
            id="reading"
            class="
              px-5
              py-3
              shadow-lg
              rounded-xl
              font-semibold
              text-gray-900
              bg-white
              focus:outline-none
              hover:-translate-y-0.5
              transform
              transition
              w-32
              <%
              if
              (book.status
              ===
              'reading')
              {
              %>bg-blue-50
              border-blue-400 border-2
              <%
              }%>
            "
          >
            ðŸ‘€ Reading
          </button>
          <button
            id="read"
            class="
              px-5
              py-3
              shadow-lg
              rounded-xl
              font-semibold
              text-gray-900
              bg-white
              focus:outline-none
              hover:-translate-y-0.5
              transform
              transition
              w-32
              <%
              if
              (book.status
              ===
              'read')
              {
              %>bg-blue-50
              border-blue-400 border-2
              <%
              }%>
            "
          >
            ðŸ“š Read
          </button>
        </div>
      </div>
    </div>
    <!-- Details -->
    <div class="sm:col-span-2 col-span-4 place-self-start">
      <h2 class="text-xl font-bold mb-6">Description</h2>
      <input
        id="description"
        type="hidden"
        name="description"
        value="<%= book.description %>"
      />
      <%- book.description %>
    </div>

    <!-- right side bar details -->
    <!-- categories -->
    <div class="sm:col-span-2 col-span-4 place-self-start sm:col-start-3">
      <h2 class="text-xl font-bold mb-6">Info</h2>
      <div class="mb-2">
        <span class="text-l font-bold mb-4">Categories: </span>
        <label>
          <%= book.categories %><input
            id="categories"
            type="hidden"
            name="categories"
            value=" <%= book.categories %>"
        /></label>
      </div>
      <!-- pages -->
      <div class="mb-2">
        <span class="text-l font-bold mb-4">Pages: </span>
        <label>
          <%= book.pageCount %><input
            id="pages"
            type="hidden"
            name="pages"
            value="<%= (!book.pageCount) ? '?' : book.pageCount %>"
        /></label>
      </div>
      <!-- published date -->
      <div class="mb-2">
        <span class="text-l font-bold mb-4">Published Date: </span>
        <label>
          <%= book.publishedDate %><input
            id="publishedDate"
            type="hidden"
            name="publishedDate"
            value="<%= book.publishedDate %>"
        /></label>
      </div>
      <!-- rating -->
      <div class="mb-2">
        <span class="text-l font-bold mb-2">Average Rating: </span>
        <label>
          <%= book.averageRating %><input
            id="averageRating"
            type="hidden"
            name="averageRating"
            value="<%= book.averageRating %>"
        /></label>
      </div>
      <div class="mb-2">
        <span class="text-l font-bold mb-2">Added Date: </span>
        <label>
          <%= new Intl.DateTimeFormat('en-US', { year: 'numeric', month:
          'short', day: '2-digit'}).format(new Date(book.createdAt)) %></label
        >
      </div>

      <!--  -->
      <div class="mb-2">
        <br />
        <a href="/books/delete/<%= book.id %>" class="text-l underline"
          >Delete this book from your collection</a
        >
      </div>
    </div>
  </div>
</div>
